{"version":3,"file":"jenkins.js","sources":["../../../../../../../node_modules/env-ci/services/jenkins.js"],"sourcesContent":["import { head } from \"../lib/git.js\";\n\n// https://wiki.jenkins.io/display/JENKINS/Building+a+software+project\n\nexport default {\n  detect({ env }) {\n    return Boolean(env.JENKINS_URL);\n  },\n  configuration({ env, cwd }) {\n    const pr = env.ghprbPullId || env.gitlabMergeRequestId || env.CHANGE_ID;\n    const isPr = Boolean(pr);\n    const localBranch =\n      env.GIT_LOCAL_BRANCH ||\n      env.GIT_BRANCH ||\n      env.gitlabBranch ||\n      env.BRANCH_NAME;\n\n    return {\n      name: \"Jenkins\",\n      service: \"jenkins\",\n      commit: env.ghprbActualCommit || env.GIT_COMMIT || head({ env, cwd }),\n      branch: isPr\n        ? env.ghprbTargetBranch || env.gitlabTargetBranch\n        : localBranch,\n      build: env.BUILD_NUMBER,\n      buildUrl: env.BUILD_URL,\n      root: env.WORKSPACE,\n      pr,\n      isPr,\n      prBranch: isPr\n        ? env.ghprbSourceBranch || env.gitlabSourceBranch || localBranch\n        : undefined,\n    };\n  },\n};\n"],"names":["head"],"mappings":";;;;AAEA;;AAEA,cAAe;AACf,EAAE,MAAM,CAAC,EAAE,GAAG,EAAE,EAAE;AAClB,IAAI,OAAO,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC;AACnC,GAAG;AACH,EAAE,aAAa,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;AAC9B,IAAI,MAAM,EAAE,GAAG,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,oBAAoB,IAAI,GAAG,CAAC,SAAS;AAC3E,IAAI,MAAM,IAAI,GAAG,OAAO,CAAC,EAAE,CAAC;AAC5B,IAAI,MAAM,WAAW;AACrB,MAAM,GAAG,CAAC,gBAAgB;AAC1B,MAAM,GAAG,CAAC,UAAU;AACpB,MAAM,GAAG,CAAC,YAAY;AACtB,MAAM,GAAG,CAAC,WAAW;;AAErB,IAAI,OAAO;AACX,MAAM,IAAI,EAAE,SAAS;AACrB,MAAM,OAAO,EAAE,SAAS;AACxB,MAAM,MAAM,EAAE,GAAG,CAAC,iBAAiB,IAAI,GAAG,CAAC,UAAU,IAAIA,QAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAC3E,MAAM,MAAM,EAAE;AACd,UAAU,GAAG,CAAC,iBAAiB,IAAI,GAAG,CAAC;AACvC,UAAU,WAAW;AACrB,MAAM,KAAK,EAAE,GAAG,CAAC,YAAY;AAC7B,MAAM,QAAQ,EAAE,GAAG,CAAC,SAAS;AAC7B,MAAM,IAAI,EAAE,GAAG,CAAC,SAAS;AACzB,MAAM,EAAE;AACR,MAAM,IAAI;AACV,MAAM,QAAQ,EAAE;AAChB,UAAU,GAAG,CAAC,iBAAiB,IAAI,GAAG,CAAC,kBAAkB,IAAI;AAC7D,UAAU,SAAS;AACnB,KAAK;AACL,GAAG;AACH,CAAC;;;;","x_google_ignoreList":[0]}