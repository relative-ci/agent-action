{"version":3,"file":"escape.js","sources":["../../../../../../../../node_modules/cross-spawn/lib/util/escape.js"],"sourcesContent":["'use strict';\n\n// See http://www.robvanderwoude.com/escapechars.php\nconst metaCharsRegExp = /([()\\][%!^\"`<>&|;, *?])/g;\n\nfunction escapeCommand(arg) {\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    return arg;\n}\n\nfunction escapeArgument(arg, doubleEscapeMetaChars) {\n    // Convert to string\n    arg = `${arg}`;\n\n    // Algorithm below is based on https://qntm.org/cmd\n    // It's slightly altered to disable JS backtracking to avoid hanging on specially crafted input\n    // Please see https://github.com/moxystudio/node-cross-spawn/pull/160 for more information\n\n    // Sequence of backslashes followed by a double quote:\n    // double up all the backslashes and escape the double quote\n    arg = arg.replace(/(?=(\\\\+?)?)\\1\"/g, '$1$1\\\\\"');\n\n    // Sequence of backslashes followed by the end of the string\n    // (which will become a double quote later):\n    // double up all the backslashes\n    arg = arg.replace(/(?=(\\\\+?)?)\\1$/, '$1$1');\n\n    // All other backslashes occur literally\n\n    // Quote the whole thing:\n    arg = `\"${arg}\"`;\n\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    // Double escape meta chars if necessary\n    if (doubleEscapeMetaChars) {\n        arg = arg.replace(metaCharsRegExp, '^$1');\n    }\n\n    return arg;\n}\n\nmodule.exports.command = escapeCommand;\nmodule.exports.argument = escapeArgument;\n"],"names":[],"mappings":";;;;;;;;AAEA;CACA,MAAM,eAAe,GAAG,0BAA0B;;CAElD,SAAS,aAAa,CAAC,GAAG,EAAE;AAC5B;KACI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,eAAe,EAAE,KAAK,CAAC;;AAE7C,KAAI,OAAO,GAAG;AACd;;AAEA,CAAA,SAAS,cAAc,CAAC,GAAG,EAAE,qBAAqB,EAAE;AACpD;AACA,KAAI,GAAG,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;;AAElB;AACA;AACA;;AAEA;AACA;KACI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE,SAAS,CAAC;;AAEnD;AACA;AACA;KACI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,gBAAgB,EAAE,MAAM,CAAC;;AAE/C;;AAEA;KACI,GAAG,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;;AAEpB;KACI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,eAAe,EAAE,KAAK,CAAC;;AAE7C;KACI,IAAI,qBAAqB,EAAE;SACvB,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,eAAe,EAAE,KAAK,CAAC;AACjD;;AAEA,KAAI,OAAO,GAAG;AACd;;AAEA,CAAA,OAAA,CAAA,OAAsB,GAAG,aAAa;AACtC,CAAA,OAAA,CAAA,QAAuB,GAAG,cAAc;;;;;;","x_google_ignoreList":[0]}