{"version":3,"file":"index.js","sources":["../../../../../../../node_modules/java-properties/dist-node/index.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.of = exports.PropertiesFile = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/*\r\n * properties\r\n *\r\n * Copyright (c) 2013 Matt Steele\r\n * Licensed under the MIT license.\r\n */\n\n\nclass PropertiesFile {\n  constructor(...args) {\n    this.objs = {};\n\n    if (args.length) {\n      this.of.apply(this, args);\n    }\n  }\n\n  makeKeys(line) {\n    if (line && line.indexOf('#') !== 0) {\n      //let splitIndex = line.indexOf('=');\n      let separatorPositions = ['=', ':'].map(sep => {\n        return line.indexOf(sep);\n      }).filter(index => {\n        return index > -1;\n      });\n      let splitIndex = Math.min(...separatorPositions);\n      let key = line.substring(0, splitIndex).trim();\n      let value = line.substring(splitIndex + 1).trim(); // if keys already exists ...\n\n      if (this.objs.hasOwnProperty(key)) {\n        // if it is already an Array\n        if (Array.isArray(this.objs[key])) {\n          // just push the new value\n          this.objs[key].push(value);\n        } else {\n          // transform the value into Array\n          let oldValue = this.objs[key];\n          this.objs[key] = [oldValue, value];\n        }\n      } else {\n        // the key does not exists\n        const escapedValue = value.replace(/\"/g, '\\\\\"') // escape \"\n        .replace(/\\\\:/g, ':') // remove \\ before :\n        .replace(/\\\\=/g, '='); // remove \\ before =\n\n        this.objs[key] = unescape(JSON.parse('\"' + escapedValue + '\"'));\n      }\n    }\n  }\n\n  addFile(file) {\n    let data = _fs.default.readFileSync(file, 'utf-8');\n\n    let items = data.split(/\\r?\\n/);\n    let me = this;\n\n    for (let i = 0; i < items.length; i++) {\n      let line = items[i];\n\n      while (line.substring(line.length - 1) === '\\\\') {\n        line = line.slice(0, -1);\n        let nextLine = items[i + 1];\n        line = line + nextLine.trim();\n        i++;\n      }\n\n      me.makeKeys(line);\n    }\n  }\n\n  of(...args) {\n    for (let i = 0; i < args.length; i++) {\n      this.addFile(args[i]);\n    }\n  }\n\n  get(key, defaultValue) {\n    if (this.objs.hasOwnProperty(key)) {\n      if (Array.isArray(this.objs[key])) {\n        let ret = [];\n\n        for (let i = 0; i < this.objs[key].length; i++) {\n          ret[i] = this.interpolate(this.objs[key][i]);\n        }\n\n        return ret;\n      } else {\n        return typeof this.objs[key] === 'undefined' ? '' : this.interpolate(this.objs[key]);\n      }\n    }\n\n    return defaultValue;\n  }\n\n  getLast(key, defaultValue) {\n    if (this.objs.hasOwnProperty(key)) {\n      if (Array.isArray(this.objs[key])) {\n        var lg = this.objs[key].length;\n        return this.interpolate(this.objs[key][lg - 1]);\n      } else {\n        return typeof this.objs[key] === 'undefined' ? '' : this.interpolate(this.objs[key]);\n      }\n    }\n\n    return defaultValue;\n  }\n\n  getFirst(key, defaultValue) {\n    if (this.objs.hasOwnProperty(key)) {\n      if (Array.isArray(this.objs[key])) {\n        return this.interpolate(this.objs[key][0]);\n      } else {\n        return typeof this.objs[key] === 'undefined' ? '' : this.interpolate(this.objs[key]);\n      }\n    }\n\n    return defaultValue;\n  }\n\n  getInt(key, defaultIntValue) {\n    let val = this.getLast(key);\n\n    if (!val) {\n      return defaultIntValue;\n    } else {\n      return parseInt(val, 10);\n    }\n  }\n\n  getFloat(key, defaultFloatValue) {\n    let val = this.getLast(key);\n\n    if (!val) {\n      return defaultFloatValue;\n    } else {\n      return parseFloat(val);\n    }\n  }\n\n  getBoolean(key, defaultBooleanValue) {\n    function parseBool(b) {\n      return !/^(false|0)$/i.test(b) && !!b;\n    }\n\n    let val = this.getLast(key);\n\n    if (!val) {\n      return defaultBooleanValue || false;\n    } else {\n      return parseBool(val);\n    }\n  }\n\n  set(key, value) {\n    this.objs[key] = value;\n  }\n\n  interpolate(s) {\n    let me = this;\n    return s.replace(/\\\\\\\\/g, '\\\\').replace(/\\$\\{([A-Za-z0-9\\.\\-\\_]*)\\}/g, function (match) {\n      return me.getLast(match.substring(2, match.length - 1));\n    });\n  }\n\n  getKeys() {\n    let keys = [];\n\n    for (let key in this.objs) {\n      keys.push(key);\n    }\n\n    return keys;\n  }\n\n  getMatchingKeys(matchstr) {\n    let keys = [];\n\n    for (let key in this.objs) {\n      if (key.search(matchstr) !== -1) {\n        keys.push(key);\n      }\n    }\n\n    return keys;\n  }\n\n  reset() {\n    this.objs = {};\n  }\n\n} // Retain 'of' from v1 for backward compatibility\n\n\nexports.PropertiesFile = PropertiesFile;\n\nlet of = function of(...args) {\n  let globalFile = new PropertiesFile();\n  globalFile.of.apply(globalFile, args);\n  return globalFile;\n};\n\nexports.of = of;\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}