import { readFileSync } from 'node:fs';
import { isStream } from '../../is-stream/index.js';
import '../../get-stream/source/array-buffer.js';
import '../../../_virtual/index4.js';

const validateInputOptions = input => {
	if (input !== undefined) {
		throw new TypeError('The `input` and `inputFile` options cannot be both set.');
	}
};

const getInputSync = ({input, inputFile}) => {
	if (typeof inputFile !== 'string') {
		return input;
	}

	validateInputOptions(input);
	return readFileSync(inputFile);
};

// `input` and `inputFile` option in sync mode
const handleInputSync = options => {
	const input = getInputSync(options);

	if (isStream(input)) {
		throw new TypeError('The `input` option cannot be a stream in sync mode');
	}

	return input;
};

export { handleInputSync };
//# sourceMappingURL=stream.js.map
